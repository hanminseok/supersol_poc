{
    "name": "preprocessing_agent",
    "type": "preprocessing",
    "description": "질문 전처리 및 의도/슬롯 추출 에이전트",
    "system_prompt": "당신은 사용자의 질문을 분석하여 의도와 필요한 정보(슬롯)를 추출하는 전문가입니다. 은행 업무와 관련된 질문을 정확히 분석해주세요.",
    "role": "질문 분석 전문가",
    "next_agent": ["supervisor"],
    "model": "gpt-4",
    "model_provider": "openai",
    "temperature": 0.3,
    "language": "ko",
    "style": "formal",
    "max_retries": 3,
    "retry_delay": 1,
    "retry_delay_max": 10,
    "retry_delay_min": 1,
    "intents": {
        "check_balance": "잔액 조회",
        "transfer_money": "송금",
        "loan_inquiry": "대출 문의",
        "investment_info": "투자 정보 (일반 투자 상품 정보)",
        "account_info": "계좌 정보 (일반 계좌 정보)",
        "transaction_history": "거래 내역 조회",
        "deposit_history": "입금 내역 조회",
        "auto_transfer_history": "자동이체 내역 조회",
        "minus_account_info": "마이너스 통장 정보 조회",
        "isa_account_info": "ISA 계좌 정보 조회 (ISA 계좌 수익, 투자 내역)",
        "mortgage_rate_change": "주택담보대출 금리 변동 조회",
        "fund_info": "펀드 수익률 및 운용사 정보 조회",
        "hot_etf_info": "인기 ETF 정보 조회",
        "transfer_limit_change": "이체 한도 변경 기록 조회",
        "frequent_deposit_accounts": "자주 입금한 계좌 목록 조회",
        "loan_account_status": "대출 계좌 상태 조회",
        "general_inquiry": "일반 문의"
    },
    "intent_slots": {
        "check_balance": ["account_number"],
        "transfer_money": ["account_number", "amount", "recipient"],
        "loan_inquiry": ["loan_type"],
        "investment_info": ["investment_product"],
        "account_info": ["account_number"],
        "transaction_history": ["account_number"],
        "deposit_history": ["account_number"],
        "auto_transfer_history": ["account_number"],
        "minus_account_info": ["account_number"],
        "isa_account_info": ["account_number"],
        "mortgage_rate_change": ["loan_type"],
        "fund_info": ["fund_name"],
        "hot_etf_info": [],
        "transfer_limit_change": [],
        "frequent_deposit_accounts": [],
        "loan_account_status": [],
        "general_inquiry": []
    },
    "default_intent": "general_inquiry",
    "context_settings": {
        "max_conversation_entries": 3
    },
    "prompt": {
        "intent_extraction_prompt": [
            "다음 사용자 질문을 분석하여 의도와 필요한 정보(슬롯)를 추출해주세요.",
            "",
            "사용자 질문: {rewritten_text}",
            "주제: {topic}",
            "",
            "가능한 의도 목록:",
            "{intents_list}",
            "",
            "각 의도별 필요한 슬롯:",
            "{intent_slots_list}",
            "",
            "반드시 다음 JSON 형식으로만 응답해주세요. 다른 텍스트는 포함하지 마세요:",
            "{",
            "    \"normalized_text\": \"표준화된 질문 텍스트\",",
            "    \"intent\": \"추출된 의도\",",
            "    \"slot\": [\"필요한 슬롯1\", \"필요한 슬롯2\"]",
            "}",
            "",
            "분석 시 고려사항:",
            "1. 사용자의 의도를 정확히 파악합니다",
            "2. 은행 업무와 관련된 용어를 정확히 인식합니다",
            "3. 필요한 정보(슬롯)를 누락 없이 추출합니다",
            "4. 가장 적절한 의도를 선택합니다",
            "5. 반드시 JSON 형식을 정확히 지켜주세요"
        ]
    },
    "input_format": {
        "type": "json",
        "schema": {
            "rewritten_text": "string",
            "topic": "string"
        }
    },
    "output_format": {
        "type": "json",
        "schema": {
            "normalized_text": "string",
            "intent": "string",
            "slot": ["string"]
        }
    }
} 